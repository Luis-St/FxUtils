plugins {
	id "java-library"
	id "eclipse"
	id "java"
	id "org.openjfx.javafxplugin" version "0.0.10"
	id "maven-publish"
}

archivesBaseName = "FxUtils"
version = "1.4"

repositories {
	mavenCentral()
	mavenLocal()
}

eclipse {
	jdt {
		sourceCompatibility = "17"
		targetCompatibility = "17"
	}
}

java {
	toolchain {
		languageVersion = JavaLanguageVersion.of(17)
	}
}

javafx {
	version = "17"
	modules = [ "javafx.controls" ]
}

compileJava {
	sourceCompatibility = "17"
	targetCompatibility = "17"
}

println("Java: " + System.getProperty("java.version") + " JVM: " + System.getProperty("java.vm.version") + "Java Runtime:" + System.getProperty("java.runtime.version"))

dependencies {
	// Local
	implementation "org.controlsfx:ControlsFX:1.0" // FX
	// Other
	implementation "org.jetbrains:annotations:23.0.0" // Annotations
}

wrapper {
    gradleVersion = "7.3"
    distributionType = Wrapper.DistributionType.ALL
}

java {
	withSourcesJar()
}

artifacts {
	archives sourcesJar
}

publishing {
	publications {
		mavenJava(MavenPublication) {
			groupId = "net.luis.fxutils"
			artifactId = "FxUtils"
			version = "1.7"
			artifact jar
			artifact sourcesJar
		}
	}
	
	repositories {
		maven {
			url "file://C:/Users/luiss/.m2/repository"
		}
	}
}

jar {
	manifest {
		attributes([
			"Built-By": "Luis Staudt",
			"Multi-Release": "true"
		])
	}
}
